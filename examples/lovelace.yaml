# –ü—Ä–∏–º–µ—Ä –∫–∞—Ä—Ç–æ—á–∫–∏ –¥–ª—è Lovelace Dashboard

# –ü—Ä–æ—Å—Ç–∞—è –∫–Ω–æ–ø–∫–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –±—ç–∫–∞–ø–∞
type: button
name: Backup Shelly Scripts
icon: mdi:content-save
tap_action:
  action: call-service
  service: advanced_shelly.backup_now

---

# –ö–∞—Ä—Ç–æ—á–∫–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫–Ω–æ–ø–∫–∞–º–∏
type: vertical-stack
cards:
  - type: markdown
    content: |
      ## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—ç–∫–∞–ø–∞–º–∏ Shelly
  
  - type: horizontal-stack
    cards:
      - type: button
        name: Backup All
        icon: mdi:backup-restore
        tap_action:
          action: call-service
          service: advanced_shelly.backup_now
      
      - type: button
        name: Backup Device 1
        icon: mdi:content-save
        tap_action:
          action: call-service
          service: advanced_shelly.backup_now
          service_data:
            device_id: shellyplus1pm-a8032ab12345

---

# –ö–∞—Ä—Ç–æ—á–∫–∞ —Å entities
type: entities
title: Shelly Scripts Backup
entities:
  - type: button
    name: Create Backup Now
    icon: mdi:backup-restore
    tap_action:
      action: call-service
      service: advanced_shelly.backup_now
  
  - type: button
    name: Restore Script 1
    icon: mdi:restore
    tap_action:
      action: call-service
      service: advanced_shelly.restore_script
      service_data:
        device_id: shellyplus1pm-a8032ab12345
        script_id: 1

---

# –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
type: vertical-stack
cards:
  - type: markdown
    content: |
      ## üì¶ Shelly Scripts Backup Manager
      
      –ü–æ—Å–ª–µ–¥–Ω–∏–π –±—ç–∫–∞–ø: {{ now().strftime('%Y-%m-%d %H:%M') }}
  
  - type: grid
    columns: 2
    square: false
    cards:
      - type: button
        name: Full Backup
        icon: mdi:database-export
        tap_action:
          action: call-service
          service: advanced_shelly.backup_now
        hold_action:
          action: more-info
      
      - type: button
        name: Kitchen Shelly
        icon: mdi:stove
        tap_action:
          action: call-service
          service: advanced_shelly.backup_now
          service_data:
            device_id: shellyplus1pm-kitchen
      
      - type: button
        name: Bathroom Shelly
        icon: mdi:shower
        tap_action:
          action: call-service
          service: advanced_shelly.backup_now
          service_data:
            device_id: shellyplus1pm-bathroom
      
      - type: button
        name: Restore Last
        icon: mdi:restore
        tap_action:
          action: call-service
          service: advanced_shelly.restore_script
          service_data:
            device_id: shellyplus1pm-kitchen
            script_id: 1

---

# –ö–∞—Ä—Ç–æ—á–∫–∞ –¥–ª—è Node-RED –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–π
# –°–æ–∑–¥–∞–π—Ç–µ input_boolean –≤ configuration.yaml:
# input_boolean:
#   shelly_backup_trigger:
#     name: Trigger Shelly Backup
#     icon: mdi:backup-restore

type: entities
title: Backup Controls
entities:
  - input_boolean.shelly_backup_trigger
  - type: button
    name: Manual Backup
    icon: mdi:play
    tap_action:
      action: call-service
      service: advanced_shelly.backup_now

---

# –ö–∞—Ä—Ç–æ—á–∫–∞ —Å —É—Å–ª–æ–≤–∏—è–º–∏ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Ä–µ–º—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –±—ç–∫–∞–ø–∞)
type: markdown
content: |
  ### üîÑ Automatic Backup Schedule
  
  - **Interval**: Every 24 hours
  - **Next backup**: {{ (now() + timedelta(hours=24)).strftime('%Y-%m-%d %H:%M') }}
  - **Backup location**: `/config/shelly_backups/`
  
  [Run Backup Now](#)

---

# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Custom Button Card (—Ç—Ä–µ–±—É–µ—Ç—Å—è HACS –ø–ª–∞–≥–∏–Ω)
type: custom:button-card
name: Shelly Backup
icon: mdi:cloud-upload
color: auto
tap_action:
  action: call-service
  service: advanced_shelly.backup_now
styles:
  card:
    - height: 100px
  name:
    - font-size: 14px
  icon:
    - width: 50px
show_state: false
